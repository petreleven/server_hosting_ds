<!-- CONFIGURATION HEADER -->
<section class="mb-8 max-w-4xl mx-auto px-4">
  <h1
    class="text-3xl font-bold text-emerald-500 mb-3 border-b border-emerald-600 pb-2 tracking-wide"
  >
    <span id="config-title">Game Server Configuration</span>
  </h1>
  <p class="text-gray-300 text-lg leading-relaxed mb-6">
    Below you can edit the settings of your game server. Make any changes you
    need and then save the configuration.
  </p>
</section>

<!-- FORM -->
<form
  hx-post="/save-config?subscription_id={{subscription_id}}"
  hx-target="#form-response"
  class="glass-card shadow-xl rounded-2xl p-8 space-y-10 bg-gray-900/80 backdrop-blur-md border border-emerald-700 max-w-4xl mx-auto px-4"
>
  <div id="form-container" class="space-y-8"></div>

  <div class="pt-6">
    <button
      type="submit"
      class="w-full md:w-auto bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-10 rounded-xl shadow-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition"
    >
      Save Configuration
    </button>
  </div>
  <div id="form-response" class="pt-4 text-sm text-gray-400"></div>
</form>

<!-- SCRIPT -->
<script type="text/javascript">
  (function () {
    //console.log(`{{config | tojson}}`);
    const serverConfig = JSON.parse(`{{ config | tojson | safe  }}`);
    const container = document.getElementById("form-container");
    const formGen = new SchemaFormGenerator(serverConfig, container);
    formGen.init();
  })();
</script>
