<!-- CONFIGURATION HEADER -->
<section class="mb-10 max-w-4xl mx-auto px-4">
  <h1 class="text-3xl font-bold text-emerald-500 tracking-wide mb-3 border-b border-emerald-600 pb-2">
    <span id="config-title">Game Server Configuration</span>
  </h1>
  <p class="text-gray-300 text-lg leading-relaxed">
    Below you can edit the settings of your game server. Make the changes you need, then click save.
  </p>
</section>

<!-- CONFIGURATION FORM -->
<form
  hx-post="/save-config?subscription_id={{subscription_id}}"
  hx-target="#form-response"
  class="glass-card rounded-2xl border border-emerald-700 shadow-xl p-8 space-y-10 max-w-4xl mx-auto"
>
  <!-- Dynamically generated fields -->
  <div id="form-container" class="space-y-8"></div>

  <!-- Submit -->
  <div class="pt-6">
    <button
      type="submit"
      class="w-full md:w-auto bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-10 rounded-xl shadow-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition"
    >
      Save Configuration
    </button>
  </div>

  <!-- Response Message -->
  <div id="form-response" class="pt-4 text-sm text-gray-400"></div>
</form>

<script type="text/javascript">
  (function () {
    const serverConfig = JSON.parse(`{{ config | tojson | safe }}`);
    const container = document.getElementById("form-container");
    const formGen = new SchemaFormGenerator(serverConfig, container);
    formGen.init();
  })();
</script>

